<!DOCTYPE html>
<html>
    <head>
        <script src="jquery-1.7.2.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            var plugin;
            $(function(){
                plugin = document.getElementById("asinbow")
                $("#execute").click(function(){
                    $("#result").text("");
                    plugin.executeCommand($("#command").val(), function(success, result) {
                        if (success){
                            $("#resultInfo").text(result.length);
                            $("#result").text(result.toString());
                        }else{
                            $("#resultInfo").text("ERROR");
                            $("#result").text(result);
                        }
                    });
                });
                $('#command').keypress(function(e){
                     if (e.which != 13) {
                        return;
                    }
                    $("#execute").click();
                });
            });

        </script>
    </head>
    <body>
        <object id="asinbow" type="application/x-asinbow" width="0" height="0">
            <param name="onload" value="pluginLoaded">
        </object>
        <input id="command" type="text" value="ls"/>
        <input id="execute" type="button" value="execute"/>
        <div id="resultInfo"></div>
        <pre id="result"></pre>
    </body>
</html>
